{"ast":null,"code":"import _slicedToArray from\"C:/Coding_Dojo/MERN/full-stack_Mern/MERN_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{navigate,Link}from'@reach/router';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PetForm=function PetForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),nameErrors=_useState4[0],setNameErrors=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),typeErrors=_useState8[0],setTypeErrors=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),descriptionErrors=_useState12[0],setDescErrors=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),skill1=_useState14[0],setSkill1=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),skill2=_useState16[0],setSkill2=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),skill3=_useState18[0],setSkill3=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),dbErrors=_useState20[0],setDbErrors=_useState20[1];var createPet=function createPet(e){e.preventDefault();var newPet={name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3};axios.post('http://localhost:8000/api/new',newPet).then(function(res){console.log(res);navigate(\"/\");}).catch(function(err){console.log(\"Error Triggered OwO please look at the reason!!!!\");console.log(err.response.data);var errors=err.response.data.errors;var messages=Object.keys(errors).map(function(error){return errors[error].message;});setDbErrors(messages);});};var handleName=function handleName(e){setName(e.target.value);if(e.target.value.length<1){setNameErrors(\"Name is required\");}else if(e.target.value.length<3){setNameErrors(\"Name must be at least 3 characters\");}else{setNameErrors(\"\");}};var handleType=function handleType(e){setType(e.target.value);if(e.target.value.length<1){setTypeErrors(\"Type is required\");}else if(e.target.value.length<3){setTypeErrors(\"Type must be at least 3 characters\");}else{setTypeErrors(\"\");}};var handleDesc=function handleDesc(e){setDescription(e.target.value);if(e.target.value.length<1){setDescErrors(\"Description is required\");}else if(e.target.value.length<3){setDescErrors(\"Description must be at least 3 characters\");}else{setDescErrors(\"\");}};var handleSkill1=function handleSkill1(e){setSkill1(e.target.value);};var handleSkill2=function handleSkill2(e){setSkill2(e.target.value);};var handleSkill3=function handleSkill3(e){setSkill3(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a New Pet!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Back to Home\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createPet,children:[dbErrors.map(function(err,i){return/*#__PURE__*/_jsx(\"p\",{children:err},i);}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),nameErrors?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:nameErrors}):'',/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleName,value:name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type: \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),typeErrors?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:typeErrors}):'',/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleType,value:type})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description: \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),descriptionErrors?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:descriptionErrors}):'',/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleDesc,value:description})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Skills\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill #1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleSkill1,value:skill1}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill #2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleSkill2,value:skill2}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Skill #3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleSkill3,value:skill3})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Pet!\"})]})]});};export default PetForm;","map":{"version":3,"sources":["C:/Coding_Dojo/MERN/full-stack_Mern/MERN_exam/client/src/components/PetForm.jsx"],"names":["React","useState","axios","navigate","Link","PetForm","name","setName","nameErrors","setNameErrors","type","setType","typeErrors","setTypeErrors","description","setDescription","descriptionErrors","setDescErrors","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","dbErrors","setDbErrors","createPet","e","preventDefault","newPet","post","then","res","console","log","catch","err","response","data","errors","messages","Object","keys","map","error","message","handleName","target","value","length","handleType","handleDesc","handleSkill1","handleSkill2","handleSkill3","i","color"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport { navigate, Link } from '@reach/router';\r\nimport '../App.css';\r\n\r\nconst PetForm = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [nameErrors, setNameErrors] = useState(\"\");\r\n\r\n    const [type, setType] = useState(\"\");\r\n    const [typeErrors, setTypeErrors] = useState(\"\");\r\n\r\n    const [description, setDescription] = useState(\"\");\r\n    const [descriptionErrors, setDescErrors] = useState(\"\");\r\n\r\n    const [skill1, setSkill1] = useState(\"\");\r\n    const [skill2, setSkill2] = useState(\"\");\r\n    const [skill3, setSkill3] = useState(\"\");\r\n\r\n    const [dbErrors, setDbErrors] = useState([]);\r\n\r\n    const createPet = (e) => {\r\n        e.preventDefault();\r\n        const newPet = {\r\n            name,\r\n            type,\r\n            description,\r\n            skill1,\r\n            skill2,\r\n            skill3\r\n        }\r\n\r\n        axios.post('http://localhost:8000/api/new', newPet)\r\n        .then(res => {\r\n            console.log(res);\r\n            navigate(\"/\")\r\n        })\r\n        .catch(err => {\r\n            console.log(\"Error Triggered OwO please look at the reason!!!!\");\r\n            console.log(err.response.data)\r\n            const {errors} = err.response.data;\r\n            const messages = Object.keys(errors).map(error => errors[error].message);\r\n            setDbErrors(messages);\r\n        })\r\n    }\r\n\r\n    const handleName = (e) => {\r\n        setName(e.target.value);\r\n        if(e.target.value.length < 1) {\r\n            setNameErrors(\"Name is required\");\r\n        } else if (e.target.value.length < 3){\r\n            setNameErrors(\"Name must be at least 3 characters\");\r\n        } else {\r\n            setNameErrors(\"\");\r\n        }\r\n    }\r\n\r\n    const handleType = (e) => {\r\n        setType(e.target.value);\r\n        if(e.target.value.length < 1) {\r\n            setTypeErrors(\"Type is required\");\r\n        } else if (e.target.value.length < 3) {\r\n            setTypeErrors(\"Type must be at least 3 characters\");\r\n        } else {\r\n            setTypeErrors(\"\")\r\n        }\r\n    }\r\n\r\n    const handleDesc = (e) => {\r\n        setDescription(e.target.value);\r\n        if(e.target.value.length < 1) {\r\n            setDescErrors(\"Description is required\");\r\n        } else if (e.target.value.length < 3) {\r\n            setDescErrors(\"Description must be at least 3 characters\")\r\n        } else {\r\n            setDescErrors(\"\")\r\n        }\r\n    }\r\n\r\n    const handleSkill1 = (e) => {\r\n        setSkill1(e.target.value);\r\n        \r\n    }\r\n\r\n    const handleSkill2 = (e) => {\r\n        setSkill2(e.target.value);\r\n        \r\n    }\r\n\r\n\r\n    const handleSkill3 = (e) => {\r\n        setSkill3(e.target.value);\r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3>Add a New Pet!</h3>\r\n            <Link to=\"/\"><button>Back to Home</button></Link>\r\n            <form onSubmit={createPet}>\r\n            {dbErrors.map((err, i) => <p key={i}>{err}</p>)}\r\n                <p>\r\n                    <label>Name: </label> <br />\r\n                    { \r\n                        nameErrors ?\r\n                        <p style={{color:'red'}}>{ nameErrors }</p> :\r\n                        ''\r\n                    }\r\n                    <input type=\"text\" onChange={handleName} value={name} />\r\n                </p>\r\n                <p>\r\n                    <label>Type: </label> <br />\r\n                    { \r\n                        typeErrors ?\r\n                        <p style={{color:'red'}}>{ typeErrors }</p> :\r\n                        ''\r\n                    }\r\n                    <input type=\"text\" onChange={handleType} value={type} />\r\n                </p>\r\n                <p>\r\n                    <label>Description: </label> <br />\r\n                    { \r\n                        descriptionErrors ?\r\n                        <p style={{color:'red'}}>{ descriptionErrors }</p> :\r\n                        ''\r\n                    }\r\n                    <input type=\"text\" onChange={handleDesc} value={description} />\r\n                </p>\r\n                <div>\r\n                    <p>\r\n                        <h4>Skills</h4>\r\n                        <label>Skill #1</label>\r\n                        <input type=\"text\" onChange={handleSkill1} value={skill1} /> <br />\r\n                        <label>Skill #2</label>\r\n                        <input type=\"text\" onChange={handleSkill2} value={skill2} /> <br />\r\n                        <label>Skill #3</label>\r\n                        <input type=\"text\" onChange={handleSkill3} value={skill3} />\r\n                    </p>\r\n                </div>\r\n                <input type=\"submit\" value=\"Create Pet!\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PetForm\r\n"]},"metadata":{},"sourceType":"module"}