{"ast":null,"code":"import _slicedToArray from\"C:/Coding_Dojo/MERN/full-stack_Mern/MERN_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from\"@reach/router\";import axios from'axios';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];useEffect(function(){getPetsFromDB();},[]);var getPetsFromDB=function getPetsFromDB(){axios.get('http://localhost:8000/api/pets').then(function(res){console.log(res.data);var ordered=res.data;setPets(ordered.sort(function(a,b){return a.type.localeCompare(b.type);}));}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/pets/new\",children:\"Add a new pet to the shelter\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"These pets are looking for a good home\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets.map(function(pet,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:pet.name}),/*#__PURE__*/_jsx(\"td\",{children:pet.type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"button\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/pets/\"+pet._id,children:\"Details\"}),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/pets/edit/\"+pet._id,children:\"Edit\"}),\" \"]})]})]},i);})})]})]});};export default Main;","map":{"version":3,"sources":["C:/Coding_Dojo/MERN/full-stack_Mern/MERN_exam/client/src/views/Main.jsx"],"names":["React","useEffect","useState","Link","axios","Main","props","pets","setPets","getPetsFromDB","get","then","res","console","log","data","ordered","sort","a","b","type","localeCompare","catch","err","map","pet","i","name","_id"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,CACpB,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eAEAP,SAAS,CAAC,UAAM,CACZQ,aAAa,GAChB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBL,KAAK,CAACM,GAAN,CAAU,gCAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACA,GAAIC,CAAAA,OAAO,CAAGJ,GAAG,CAACG,IAAlB,CACAP,OAAO,CAACQ,OAAO,CAACC,IAAR,CAAa,SAACC,CAAD,CAAGC,CAAH,QAASD,CAAAA,CAAC,CAACE,IAAF,CAAOC,aAAP,CAAqBF,CAAC,CAACC,IAAvB,CAAT,EAAb,CAAD,CAAP,CACH,CALL,EAMKE,KANL,CAMW,SAAAC,GAAG,QAAIV,CAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAAJ,EANd,EAOH,CARD,CAUA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,0CADJ,cAEI,8DAFJ,cAGI,sCACI,oCACI,mCACI,4BADJ,cAEI,4BAFJ,cAGI,+BAHJ,GADJ,EADJ,cAQI,uBAEIhB,IAAI,CAACiB,GAAL,CAAS,SAACC,GAAD,CAAMC,CAAN,CAAY,CACjB,mBACI,mCACI,oBAAKD,GAAG,CAACE,IAAT,EADJ,cAEI,oBAAKF,GAAG,CAACL,IAAT,EAFJ,cAGI,mCACI,2CAAS,KAAC,IAAD,EAAM,EAAE,CAAE,SAAWK,GAAG,CAACG,GAAzB,qBAAT,OADJ,cAEI,2CAAS,KAAC,IAAD,EAAM,EAAE,CAAE,cAAgBH,GAAG,CAACG,GAA9B,kBAAT,OAFJ,GAHJ,GAASF,CAAT,CADJ,CAUH,CAXD,CAFJ,EARJ,GAHJ,GADJ,CA+BH,CAhDD,CAkDA,cAAerB,CAAAA,IAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { Link } from \"@reach/router\"\r\nimport axios from 'axios';\r\nimport '../App.css';\r\n\r\nconst Main = (props) => {\r\n    const [pets, setPets] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getPetsFromDB();\r\n    }, [])\r\n\r\n    const getPetsFromDB = () => {\r\n        axios.get('http://localhost:8000/api/pets')\r\n            .then(res => {\r\n                console.log(res.data)\r\n                let ordered = res.data;\r\n                setPets(ordered.sort((a,b) => a.type.localeCompare(b.type)));\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link to=\"/pets/new\">Add a new pet to the shelter</Link>\r\n            <h3>These pets are looking for a good home</h3>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Type</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                    pets.map((pet, i) => {\r\n                        return (\r\n                            <tr key={i}>\r\n                                <td>{pet.name}</td>\r\n                                <td>{pet.type}</td>\r\n                                <td> \r\n                                    <button> <Link to={\"/pets/\" + pet._id}>Details</Link> </button>\r\n                                    <button> <Link to={\"/pets/edit/\" + pet._id}>Edit</Link> </button>\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })\r\n                }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n"]},"metadata":{},"sourceType":"module"}